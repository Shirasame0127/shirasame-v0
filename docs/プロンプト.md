以下、**GitHub Copilot にそのまま貼って使える形のプロンプト**を作成しました。
あなたの要件をすべて含んでいます。
（Next.js プロジェクトの構造維持、SSG + CSR の分離、API Fetch、サイドメニューの動的生成など）

---

# ✅ **GitHub Copilot 用プロンプト**

**目的：**
Next.js で構築された旧プロジェクト（公開ページ＋管理ページ＋API が一体型）から、
**公開ページ（SSG）** と **管理ページ（認証必要＋API）** を分離して、
公開ページは SSG のまま **商品・コレクション・プロフィール・レシピ情報などのみ CSR で Fetch** して表示する構成に書き換える。

---

## 🔧 **やってほしいこと（必須要件）**

### 1️⃣ **旧公開ページの UI / レイアウト / コンポーネント構造を絶対に崩さず丸ごと移植すること**

* CSS・レイアウト・アニメーション・コンポーネントの順序・UI の見た目を「絶対に壊さない」
* import path は新構成に自動的に合わせて書き換える
* 機能の削除や省略はしない

---

### 2️⃣ **公開ページは SSG のまま維持し、データ部分だけ CSR の Fetch に差し替える**

公開ページでは次のデータを API Fetch で CSR 取得する：

* 商品情報（items）
* コレクション情報（collections）
* プロフィール情報（profile）
* レシピ情報（recipes）
などNext.js で構築された旧プロジェクトの公開ページでデータベースから取得して表示していたもの

実装方法は以下のどれかに統一してほしい：

* React の `useEffect` + `fetch`
* もしくは SWR（SWR の推奨パターンで実装）

---

### 3️⃣ **公開ページでデータを使って UI を動的生成するように修正する**

特に次を必ず動的に生成する：

### ● サイドメニュー（固定＋動的パーツ）

固定項目：

* Top（先頭へ）
* Gallery 切り替えボタン
* All Items
* Recipes
* Profile

動的項目（API のデータから生成）：

* Collections 一覧

  * コレクション名1
  * コレクション名2
  * …
* Recipes 一覧

  * レシピ名1
  * レシピ名2
  * …

**サイドメニューのDOM構造は壊さず、受け取るデータに応じて中身だけを動的に差し込む方式にしてほしい。**

---

### 4️⃣ **既存の UI（カード、ギャラリー、スライダーなど）はそのまま維持しつつ、データだけ CSR に切り替えるように書き換える**
などは絶対に壊さず、props を API の結果で埋める形に書き換える。

---

## 📁 **最終的なフォルダ構成（例）**

```
/public-site     ← 公開ページ (SSG) + CSRでデータFetch
  /app
  /components
  /styles

/admin-site      ← 管理ページ (認証)
  /app
  /components
  /api-handlers

/shared          ← 共通コンポーネント or 型
  /types
  /utils

```

---

## 📌 **やってほしい最終タスク一覧**

* [ ] 旧プロジェクトから公開部分のみ抽出し、UI 崩さず移植
* [ ] 公開ページを **SSG のまま** CSR データに対応
* [ ] `/api/...` の URL を新しい構成に合わせて書き換え
* [ ] `useEffect` や SWR で API からデータを取得するように修正
* [ ] サイドメニューを固定＋動的生成に変換
* [ ] items / collections / recipes / profile　など を全て CSR で流し込む
* [ ] UI・レイアウトが完全に一致していることを確認

---

## ✨ **補足（ニュアンス）**

> 「公開ページの見た目やコンポーネント構造が変わるのは一切NG。
> GitHub Copilot がリファクタリングや順序変更を勝手にしないように注意しながら、
> データ取得部分だけ CSR Fetch に変えてほしい。」

---

# ✔ この内容で Copilot にそのまま貼って作業を開始できます！

---

必要なら：

* API の具体的な URL に合わせたバージョン
* SWR 版 / useEffect 版 の指定
* 配列の構造（items, recipes などの型情報）

も含めた詳細版プロンプトも作れます。

もっと細かい指示が必要ならそのまま言ってください！
