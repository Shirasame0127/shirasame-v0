@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;700&display=swap');
@import "tailwindcss";

:root {
  --background: oklch(0.99 0.002 264);
  --foreground: oklch(33.265% 0.0038 264.586);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0.01 264);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0.01 264);
  --primary: oklch(0.35 0.15 264);
  --primary-foreground: oklch(0.99 0.002 264);
  --secondary: oklch(0.95 0.01 264);
  --secondary-foreground: oklch(0.15 0.01 264);
  --muted: oklch(0.96 0.005 264);
  --muted-foreground: oklch(0.45 0.01 264);
  --accent: oklch(0.55 0.2 320);
  --accent-foreground: oklch(0.99 0.002 264);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.99 0.002 264);
  --border: oklch(0.9 0.005 264);
  --input: oklch(0.9 0.005 264);
  --ring: oklch(0.35 0.15 264);
  --radius: 0.75rem;
  /* Fonts */
  --font-sans: "__nextjs-Geist", "Geist", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: "__nextjs-Geist Mono", "Geist Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Noto Sans Mono";
  --font-heading: "Oswald", "Oswald Medium", "Geist", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

.dark {
  --background: oklch(0.12 0.01 264);
  --foreground: oklch(0.95 0.005 264);
  --card: oklch(0.15 0.01 264);
  --card-foreground: oklch(0.95 0.005 264);
  --popover: oklch(0.15 0.01 264);
  --popover-foreground: oklch(0.95 0.005 264);
  --primary: oklch(0.65 0.2 264);
  --primary-foreground: oklch(0.12 0.01 264);
  --secondary: oklch(0.2 0.01 264);
  --secondary-foreground: oklch(0.95 0.005 264);
  --muted: oklch(0.18 0.01 264);
  --muted-foreground: oklch(0.6 0.01 264);
  --accent: oklch(0.65 0.22 320);
  --accent-foreground: oklch(0.12 0.01 264);
  --destructive: oklch(0.5 0.2 27);
  --destructive-foreground: oklch(0.95 0.005 264);
  --border: oklch(0.25 0.01 264);
  --input: oklch(0.25 0.01 264);
  --ring: oklch(0.65 0.2 264);
}

@layer base {
  * { border-color: var(--border); }
  /* Apply requested global body font stack */
  body { background-color: var(--background); color: var(--foreground); font-family: 'Quicksand', 'Zen Maru Gothic', 'メイリオ', sans-serif; }
  code, pre, kbd, samp { font-family: var(--font-mono); }
  h1,h2,h3,h4,h5,h6 { font-family: var(--font-heading); font-weight: 500; }
  h2 { font-weight: 700; }
  h2,h3 { font-family: "Oswald", var(--font-heading); }

  /* Keep H2 and its inline button using the heading/font currently used (do not inherit body font) */
  h2, h2 button, h2 > button { font-family: "Oswald", var(--font-heading) !important; }
}

@layer base {
  /* paragraphs immediately following headings should use muted foreground */
  h1 + p, h2 + p, h3 + p, h4 + p, h5 + p, h6 + p { color: var(--muted-foreground); }

  /* profile-card component text */
  .profile-card p { color: var(--muted-foreground); }
  /* all paragraph text should use the sans font variable */
  p { font-family: var(--font-sans); }
  /* Make image dragging/selecting/download via browser harder (best-effort) */
  .no-download {
    -webkit-user-drag: none;
    user-drag: none;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;
    /* iOS Safari long-press / callout suppression */
    -webkit-touch-callout: none;
    -webkit-user-drag: none;
  }
  
  /* Menu slide animation helper: transform + opacity for smooth in/out */
  .menu-slide { will-change: transform, opacity; transition: transform 360ms cubic-bezier(.22,.9,.29,1), opacity 260ms ease; }
  .menu-overlay-fade { transition: opacity 260ms ease; }
}

/* Ensure elements explicitly using black are rendered as #2b2b2b on public pages */
/* Tailwind utility override */
.text-black { color: #2b2b2b !important; }
.text-\[\#000000\] { color: #2b2b2b !important; }
.text-\[\#000\] { color: #2b2b2b !important; }

/* Inline style catches (best-effort) */
[style*="color: #000"],
[style*="color:#000"],
[style*="color: #000000"],
[style*="color:#000000"],
[style*="color: black"],
[style*="color:black"],
[style*="color:rgb(0,0,0)"],
[style*="color: rgba(0, 0, 0"],
[style*="color: rgba(0,0,0"],
[style*="color: rgba(0,0,0)"] 
/* Console/build-time artifacts sometimes inject #000000 in inline CSS; target common patterns */
[style*="#000000"] { color: #2b2b2b !important; }

/* Floating decorative circles removed */

/* Animation utilities (fallbacks for missing Tailwind animation plugin) */
@layer utilities {
  .animate-in { animation: anim-in 300ms cubic-bezier(.22,.9,.29,1) both; }
  .animate-out { animation: anim-out 200ms cubic-bezier(.22,.9,.29,1) both; }

  .fade-in { animation: fade-in 220ms ease both; }
  .fade-out-0 { animation: fade-out 180ms ease both; }
  .fade-in-0 { animation: fade-in 160ms ease both; }

  .zoom-in-95 { animation: zoom-in 220ms cubic-bezier(.22,.9,.29,1) both; }
  .zoom-out-95 { animation: zoom-out 200ms cubic-bezier(.22,.9,.29,1) both; }

  .slide-in-from-right { animation: slide-in-from-right 320ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-out-to-right { animation: slide-out-to-right 260ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-in-from-left { animation: slide-in-from-left 320ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-out-to-left { animation: slide-out-to-left 260ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-in-from-top-2 { animation: slide-in-from-top 300ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-out-to-top { animation: slide-out-to-top 300ms cubic-bezier(.22,.9,.29,1) both; }
  .slide-in-from-bottom-2 { animation: slide-in-from-bottom 300ms cubic-bezier(.22,.9,.29,1) both; }
}

@keyframes anim-in { from { opacity: 0; transform: translateZ(0) scale(.99); } to { opacity: 1; transform: translateZ(0) scale(1); } }
@keyframes anim-out { from { opacity: 1; transform: translateZ(0) scale(1); } to { opacity: 0; transform: translateZ(0) scale(.99); } }

@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes fade-out { from { opacity: 1; } to { opacity: 0; } }

@keyframes zoom-in { from { opacity: 0; transform: scale(.95); } to { opacity: 1; transform: scale(1); } }
@keyframes zoom-out { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(.95); } }

@keyframes slide-in-from-right { from { transform: translateX(16px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes slide-out-to-right { from { transform: translateX(0); opacity: 1; } to { transform: translateX(16px); opacity: 0; } }
@keyframes slide-in-from-left { from { transform: translateX(-16px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes slide-out-to-left { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-16px); opacity: 0; } }
@keyframes slide-in-from-top { from { transform: translateY(-12px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes slide-out-to-top { from { transform: translateY(0); opacity: 1; } to { transform: translateY(-12px); opacity: 0; } }
@keyframes slide-in-from-bottom { from { transform: translateY(12px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* Attribute-targeted animations for Radix Sheet (fallback if Tailwind variants are not built) */
[data-slot="sheet-overlay"][data-state="open"] {
  animation: anim-in 260ms cubic-bezier(.22,.9,.29,1) both;
}
[data-slot="sheet-overlay"][data-state="closed"] {
  animation: anim-out 200ms cubic-bezier(.22,.9,.29,1) both;
}

[data-slot="sheet-content"][data-state="open"] {
  animation: anim-in 320ms cubic-bezier(.22,.9,.29,1) both;
}
[data-slot="sheet-content"][data-state="closed"] {
  animation: anim-out 260ms cubic-bezier(.22,.9,.29,1) both;
}

/* Slide directions for sheet content based on data-side attribute */
[data-slot="sheet-content"][data-side="right"][data-state="open"] {
  animation: slide-in-from-right 320ms cubic-bezier(.22,.9,.29,1) both;
}
[data-slot="sheet-content"][data-side="right"][data-state="closed"] {
  animation: slide-out-to-right 260ms cubic-bezier(.22,.9,.29,1) both;
}

[data-slot="sheet-content"][data-side="left"][data-state="open"] {
  animation: slide-in-from-left 320ms cubic-bezier(.22,.9,.29,1) both;
}
[data-slot="sheet-content"][data-side="left"][data-state="closed"] {
  animation: slide-out-to-left 260ms cubic-bezier(.22,.9,.29,1) both;
}

[data-slot="sheet-content"][data-side="top"][data-state="open"] {
  animation: slide-in-from-top 300ms cubic-bezier(.22,.9,.29,1) both;
}
[data-slot="sheet-content"][data-side="bottom"][data-state="open"] {
  animation: slide-in-from-bottom 300ms cubic-bezier(.22,.9,.29,1) both;
}

/* When All Items overlay is open, hide other main children so only overlay + footer remain */
/* When All Items is open, hide the entire main element */
.allitems-open main {
  display: none !important;
}

/* Ensure the All Items view is visible and above page content; footer remains visible below it. */
.allitems-open #all-items-view {
  display: block !important;
  z-index: 60;
}

/* Animated checkerboard background for public pages (stronger + single-direction scroll) */
.animated-grid-bg {
  position: relative;
  overflow: hidden;
}

/* draw the checkerboard in a ::before layer so we can apply an SVG displacement filter */
.animated-grid-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background-color: var(--background);
  background-image:
    linear-gradient(90deg, rgba(0,0,0,0.06) 0 2px, transparent 2px 100%),
    linear-gradient(rgba(0,0,0,0.06) 0 2px, transparent 2px 100%);
  background-size: 42px 42px;
  background-position: 0 0, 21px 21px;
  /* move grid slowly to the right */
  animation: gridScroll 8s linear infinite;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* apply an SVG turbulence+displacement filter via data URI to create wavy distortion
     - make the animation slower and displacement smaller to reduce CPU on mobile
  */
  filter: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='w'><feTurbulence type='fractalNoise' baseFrequency='0.02' numOctaves='2' seed='3'><animate attributeName='baseFrequency' dur='12s' values='0.02;0.04;0.02' repeatCount='indefinite'/></feTurbulence><feDisplacementMap in='SourceGraphic' scale='10' xChannelSelector='R' yChannelSelector='G'/></filter></svg>#w");
}

@keyframes gridScroll {
  from { background-position: 0 0, 21px 21px; }
  /* move both layers diagonally down-right */
  to   { background-position: 84px 84px, 105px 105px; }
}

@media (prefers-reduced-motion: reduce) {
  .animated-grid-bg::before { animation: none; filter: none; }
}

/* Mobile: disable expensive SVG displacement and use a cheap transform-based wobble for smoothness */
@media (max-width: 640px) {
  .animated-grid-bg::before {
    filter: none !important;
    /* keep the diagonal scroll but add a subtle transform animation which is GPU-accelerated */
    animation: gridScroll 8s linear infinite, smoothShift 6s ease-in-out infinite;
    transform: translate3d(0,0,0);
  }

  @keyframes smoothShift {
    0% { transform: translate3d(0,0,0) rotate(0.01deg); }
    50% { transform: translate3d(8px,8px,0) rotate(0.02deg); }
    100% { transform: translate3d(0,0,0) rotate(0.01deg); }
  }
}

/* Profile and recipe card backgrounds: force white on public pages */
.profile-card, .bg-card {
  background-color: #ffffff !important;
  /* ensure readable text */
  color: var(--card-foreground) !important;
}

/* If specific recipe card component uses a different class name, cover common patterns */
.recipe-card, .RecipeCard, [class*="recipe"] { background-color: #ffffff !important; }

/* Gallery display toggle (pill) — make background white for better contrast */
.max-w-7xl .inline-flex.items-center.bg-muted.p-1.rounded-full.shadow-sm,
.gallery-toggle {
  background-color: #ffffff !important;
  box-shadow: 0 1px 2px rgba(0,0,0,0.06) !important;
}

/* Ensure the sliding indicator remains visible on white background */
.gallery-toggle .absolute { background-clip: padding-box; }

